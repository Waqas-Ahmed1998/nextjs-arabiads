import Head from 'next/head';
import Image from 'next/image';
import Card1 from '../components/Home/Card1';
import Card2 from '../components/Home/Card2';
import Card3 from '../components/Home/Card3';
import Card4 from '../components/Home/Card4';
import Card5 from '../components/Home/Card5';
import NumbersSpeak from '../components/standard/NumbersSpeak';
import Plateforms from '../components/standard/Plateforms';
import Campaign from '../components/standard/Campaign';
import styles from '../styles/Home.module.css';
import { collection, onSnapshot, getDocs } from 'firebase/firestore';
import { db } from '../firebase';
import { useSetRecoilState } from 'recoil';
import { adminUsers } from '../recoil/adminUsers';
import { useEffect } from 'react';

// export async function getServerSideProps() {
//   const adminData = [];
//   const querySnapshot = await getDocs(collection(db, 'admins'));
//   querySnapshot.forEach((doc) => {
//     adminData.push({ ...doc.data(), id: doc.id });
//   });

//   return {
//     props: {
//       authenticatedUsers: JSON.stringify(adminData) || [],
//     },
//   };
// }

export default function Home() {
  // const setAuthenticatedUsers = useSetRecoilState(adminUsers);

  // const [{ users }] = JSON.parse(authenticatedUsers);
  // setAuthenticatedUsers(users);
  // console.log(users);
  // useEffect(() => {
  //   setAuthenticatedUsers(users);

  //   // return () => {
  //   //   setAuthenticatedUsers(null);
  //   // };
  // }, []);
  return (
    <div className=''>
      <Head>
        <title>Arabiads</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <div
        className={` hidden absolute  -left-[0%] w-[2650px] h-[200vh]  ${styles.serviceMid} bg-no-repeat   xl:inline-grid `}
      ></div>

      <div className='flex justify-center md:h-screen md:max-w-[95rem] mx-auto '>
        <Card1 />
      </div>
      <div className='flex justify-center lg:h-screen lg:max-w-[95rem] mx-auto relative'>
        <Card2 />
      </div>
      <div className='xl:mt-72 flex justify-center xl:h-screen lg:max-w-[95rem] mx-auto relative'>
        <Card3 />
      </div>
      <div className=' grid grid-cols-1 md:max-w-[95rem] mx-auto relative'>
        <Card4 />
      </div>
      <div
        className={`md:my-40 ${styles.advertisingImage}  bg-no-repeat bg-center mx-auto`}
      >
        <Card5 />
      </div>

      <NumbersSpeak />
      <Plateforms />
      <Campaign />
    </div>
  );
}
